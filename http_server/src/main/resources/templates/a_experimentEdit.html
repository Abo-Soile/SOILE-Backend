{>header_nodojo /}

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.js"></script>

<link rel="stylesheet" href="/javascript/bower_components/angular-ui-tree/dist/angular-ui-tree.min.css">
<script type="text/javascript" src="/javascript/bower_components/angular-ui-tree/dist/angular-ui-tree.js"></script>

<script type="text/javascript" src="/javascript/a_experimentedit.js"></script>

<div class="container" id="main" ng-app="experimentEdit" ng-controller="experimentController">
  <div class="row">
    <div class="col-md-12">    
        <label>Experiment name</label>
        <input  class="form-control"  ng-model="experiment.name">

        <label>Description</label>
        <textarea class="form-control" ng-model="experiment.description"> </textarea>

        <label>Description</label>
        <textarea class="form-control" ng-model="experiment.endmessage"> </textarea>
    </div> 
    <div class="col-md-12">
      <br>
    </div>

    <div class="col-md-6">
      <p class="input-group">
        <input type="text" class="form-control" ng-model="startDate" is-open="opened" min-date="endDate" ng-required="true" close-text="Close" />
        <span class="input-group-btn">
          <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </p>
    </div>

    <div class="col-md-6">
      <p class="input-group">
        <input type="date" class="form-control" ng-model="endDate" is-open="opened" min-date="startdate"  ng-required="true" close-text="Close" />
        <span class="input-group-btn">
          <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </p>
    </div>

    <div class="col-md-12">
      <div class="panel panel-fancy ng-controller="componentController"">
        <h5>Components</h5>
        <div ui-tree>
          <ul ui-tree-nodes="" ng-model="experiment.components" class="fancyList angularcomponentlist"> 
            <li class=" " ng-repeat="comp in experiment.components" ui-tree-node>
              <div class="dragHandle" ui-tree-handle><i class="fa fa-bars"></i></div>
               <div class="form-inline">
              <span ng-if="comp.type == 'test'">
                <input class="form-control" ng-model=comp.name readonly>
              </span>

              <span ng-if="comp.type == 'form'">
                <input class="form-control" ng-model=comp.name placeholder="Unnamed form"> 
                <button class="btn btn-warning">Edit</button>
                <button class="btn btn-warning">in new window</button>
              </span>

              <button ng-click="delComponent(key, $index)" class="btn btn-danger pull-right " type="submit">Delete</button>

              </div>
            </li>
          </ul>


        </div>
      </div>
      
      <div>
          <button class="btn btn-default">Add form</button>
          <input>
          <button class="btn btn-default">Add test</button>
      </div>

      <button class="btn btn-success"ng-click="save()">Save</button>
    </div>
  </div>
  <div class="row">
      asdsadsadsad dfgfd gfd
  </div>
</div>


{>footer /}